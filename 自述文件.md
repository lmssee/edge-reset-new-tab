# reset new tab (重定义重定义)

该包为 edge 浏览器的[扩展](https://microsoftedge.microsoft.com/addons/detail/bfecjipachpbkclaobjigeacheimkfbh)，启动该包则在新标签页页面展示空白页面

## chrome

### storage

- `chrome.storage.local` 储存在本地，不会同步到云，但是在本地所有页面间共享，且关闭浏览器后依旧存在
- `chrome.storage.sync` 存储到云，跨设备共享，异步，但储存量较小

#### 储存值

```ts
chrome.storage.local.set({ key: 'value 1' }, function () {
  console.log('value 1 已经存在在本地');
});

chrome.storage.sync.set({ key: 'value 2' }, function () {
  console.log('value 2 已经存在在云端');
});
```

#### 获取值

```ts
chrome.storage.local.get(['key'], function (result) {
  console.log(`已捕获到本地值：${result.key}`);
});

chrome.storage.sync.get(['key'], function (result) {
  console.log(`已捕获到云端值：${result.key}`);
});
```

- 当使用 `chrome.storage` 获取值时，即使该键不存在，依旧会调用回调函数

#### 监听

使用 `chrome.storage.onChanged` 事件来监听储存区域的变化

### runtime

`chrome.runtime` 提供浏览器运行时的交互功能，包括生命周期、监听响应事件、获取扩展本身的信息

用途：

- 管理扩展的生命周期
  - `chrome.runtime.onInstalled` 监听首次安装扩展或更新时的事件
  - `chrome.runtime.onStartup` 监听浏览器启动时扩展启动
  - `chrome.runtime.onSuspend`、`chrome.runtime.onSuspendCanceled` 监听扩展进入或取消挂起
- 获取扩展信息
  - `chrome.runtime.getManifest()` 获取扩展的 manifest 文件内容
  - `chrome.runtime.getURL(path)` 根据扩展内的路径获取完整的 URL 。可用于加载扩展内的资源
- 与扩展页面通信
  - `chrome.runtime.sendMessage()` 、`chrome.runtime.onMessage.addListener()` 允许通信
- 管理扩展的权限
  - `chrome.runtime.requestPermissions` 请求用户授予扩展额外的权限
- 连接外部得应用
  - `chrome.runtime.connect` 、 `chrome.runtime.getManifest` 允许扩展与外部页面或本地的应用建立长链接，已进行复杂的通信
- 重启扩展
  - `chrome.runtime.reload` 重新加载扩展，在开发中，以便更快的看到代码的更改效果

### tabs

允许扩展程序与浏览器中的标签进行交互。通过该 API ，可以执行多种与标签页相关的操作，比如查询标签页信息、创建新的标签页、修改标签页的属性、监听标签页的生命周期等。

#### 初安装

```ts
import { chrome }  from 'a-edge-extends-types';

chrome.runtime.onInstalled.addListener(({reason})=>{
  if(reason ==== 'install') {
      chrome.tabs.create({
          url:  'https://lmssee.com'
      });
  }
});
```

_如插件出现问题或更好的建议，您可以在 [github 提交问题](https://github.com/lmssee/edge-reset-new-tab/issues/new)_
